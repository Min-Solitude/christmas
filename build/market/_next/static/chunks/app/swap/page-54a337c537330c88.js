(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{6601:function(){},2661:function(e,s,n){Promise.resolve().then(n.bind(n,6140))},6140:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return x}});var l=n(7437);n(3385);var t=n(171);n(8062);var a=n(9004),o=n(2173),c=n(6691),i=n.n(c),r=n(2265),d=n(3438),u=function(e){let[s,n]=(0,r.useState)("buy"),[c,u]=(0,r.useState)(""),[x,h]=(0,r.useState)(0),[f,m]=(0,r.useState)(0),[p,b]=(0,r.useState)(!1),g=()=>{u("")},N=(e,s)=>{0==s?(m(e*a.Z.TOKEN_RATE),h(e)):(m(e),h(e/a.Z.TOKEN_RATE))},y=e=>d.YW.from(Uint8Array.from(atob(e),e=>e.charCodeAt(0))),w=async()=>{if(window.solana.isConnected){b(!0);let e=t.Am.loading("BUYING",{autoClose:12e4});try{let e=window.solana.publicKey.toBase58(),s=await o.Z.post("".concat(a.Z.API_ENDPOINT,"/wallet/deposit"),{wallet:e,amount:x}),n=y(s.data.result.encoded_transaction),l=new d.ew("https://api.devnet.solana.com"),c=await window.phantom.solana.signTransaction(n),i=await l.sendRawTransaction(c.serialize());await o.Z.get("".concat(a.Z.API_ENDPOINT,"/wallet/deposit/verify?walletAddress=").concat(e,"&txHash=").concat(i)),t.Am.success("Deposit successfully!")}catch(e){t.Am.error("Deposit failed! Please contact to our support service")}finally{t.Am.dismiss(e)}b(!1)}};return(0,l.jsx)("section",{className:"border p-5 mb-5 rounded-xl mx-auto w-full",style:{maxWidth:500},children:(0,l.jsxs)("div",{className:"flex flex-col gap-y-5  ",children:[(0,l.jsxs)("section",{className:"grid grid-cols-2   ",children:[(0,l.jsx)("button",{className:"border rounded-l-xl py-5 duration-300 ".concat("buy"===s&&"bg-yellow-400"),onClick:()=>n("buy"),children:"Deposit"}),(0,l.jsx)("button",{className:" border rounded-r-xl py-5 duration-300 ".concat("sell"===s&&"bg-yellow-400"),onClick:()=>n("sell"),children:"Withdraw"})]}),(0,l.jsxs)("section",{className:" ",children:[(0,l.jsxs)("form",{action:"",className:"   flex-col gap-y-2 text-xs ".concat("buy"===s?"opacity-100 flex ":" opacity-0 hidden"),children:[(0,l.jsxs)("div",{className:"border rounded-xl p-5 flex flex-col hover:border-orange-300 ".concat("Chi"===c&&"ring ring-orange-300"," focus:outline-none focus:border-sky-500 focus:ring-sky-500 b w-full  sm:text-sm focus:ring-1"),onFocus:()=>u("Chi"),onBlur:g,children:[(0,l.jsx)("label",{htmlFor:"",className:"",children:"SOL"}),(0,l.jsxs)("div",{className:"flex  items-center",children:[(0,l.jsx)("input",{className:"flex flex-1 bg-transparent outline-none py-2",onFocus:()=>u("Chi"),placeholder:"0.00",type:"text",onChange:e=>N(Number(e.target.value),0),value:x,disabled:!0}),(0,l.jsxs)("label",{className:"text-xs flex gap-2 items-center",htmlFor:"",children:[(0,l.jsx)(i(),{src:"https://upload.wikimedia.org/wikipedia/en/b/b9/Solana_logo.png",alt:"",width:20,height:20}),"SOL"]})]})]}),(0,l.jsxs)("div",{className:"border rounded-xl p-5 flex flex-col hover:border-orange-300  ".concat("nhan"===c&&"ring ring-orange-300"," focus:outline-none focus:border-sky-500 focus:ring-sky-500 b w-full  sm:text-sm focus:ring-1"),onFocus:()=>u("nhan"),onBlur:g,children:[(0,l.jsx)("label",{htmlFor:"",className:"",children:"XMS"}),(0,l.jsxs)("div",{className:"flex  items-center",children:[(0,l.jsx)("input",{className:"flex flex-1 bg-transparent outline-none py-2",onFocus:()=>u("nhan"),placeholder:"0.00",type:"text",onChange:e=>N(Number(e.target.value),1),value:f}),(0,l.jsxs)("label",{className:"text-xs flex gap-2 items-center",htmlFor:"",children:[(0,l.jsx)(i(),{src:"/icon.png",alt:"",width:20,height:20}),"XMS"]})]})]})]}),(0,l.jsx)("form",{action:"",className:" flex-col gap-y-5 duration-300   ".concat("sell"===s?"flex opacity-100":"opacity-0 hidden"),children:(0,l.jsxs)("div",{className:"border rounded-xl p-5 flex flex-col hover:border-orange-300 text-xs ".concat("Chi"===c&&"ring ring-orange-300"," focus:outline-none focus:border-sky-500 focus:ring-sky-500 b w-full  sm:text-sm focus:ring-1"),onFocus:()=>u("Chi"),onBlur:g,children:[(0,l.jsx)("label",{htmlFor:"",className:"",children:"Buy"}),(0,l.jsxs)("div",{className:"flex  items-center",children:[(0,l.jsx)("input",{className:"flex flex-1 bg-transparent outline-none py-2",onFocus:()=>u("Chi"),placeholder:"H\xc3Y NHẬP SỐ LƯỢNG",type:"text"}),(0,l.jsxs)("select",{name:"token",id:"",className:"w-full text-end  bg-white outline-none text-xs",children:[(0,l.jsx)("option",{value:"1INCH",children:"1INCH"}),(0,l.jsx)("option",{value:"AAVE",children:"AAVE"})]})]})]})})]}),(0,l.jsxs)("section",{className:"w-full",children:[" ",(0,l.jsx)("button",{disabled:p,onClick:w,type:"submit",className:"uppercase border rounded-xl py-3 bg-yellow-400 w-full",children:"buy"===s?"Deposit":"Withdraw"})]})]})})};function x(){return(0,l.jsxs)("div",{className:"bg-white",children:[(0,l.jsx)(t.Ix,{}),(0,l.jsx)("div",{className:"container mx-auto h-full",style:{display:"flex",alignItems:"center",justifyContent:"center",height:"90vh"},children:(0,l.jsx)(u,{})})]})}},9004:function(e,s,n){"use strict";n.d(s,{Z:function(){return l}});class l{}l.DEV=!0,l.TOKEN_RATE=1e3,l.API_ENDPOINT="http://localhost",l.NETWORK="https://api.devnet.solana.com"},3385:function(){}},function(e){e.O(0,[814,713,868,825,971,938,744],function(){return e(e.s=2661)}),_N_E=e.O()}]);